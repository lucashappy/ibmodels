/*
* @file
* @brief    boxplus mouse-over image caption engine
* @author   Levente Hunyadi
* @version  1.3.0
* @remarks  Copyright (C) 2009-2010 Levente Hunyadi
* @remarks  Licensed under GNU/GPLv3, see http://www.gnu.org/licenses/gpl-3.0.html
* @see      http://hunyadi.info.hu/projects/sigplus
*/
if(typeof(__jQuery__)=="undefined"){var __jQuery__=jQuery.noConflict()}(function(b){function a(d){var c=d.parent("a");return c.size()?c.attr("href"):false}b.fn.boxplusCaption=function(h){var i={download:a,metadata:false,dialog:false};h=b.extend(i,h);var g=this;var f=g.attr("alt");var c=h.download;var m=h.metadata;var k=h.dialog;var e=c&&c(g);var p=m&&m(g);var j=e||p;if(!f&&!j){return this}var n=g.parent("a").size()?g.parent():g;var d=b('<div class="boxplus-container" />').insertAfter(n);var o=b('<div class="boxplus-overlaycaption boxplus-hidden"></div>').appendTo(d).html(f);if(j){var l=b('<div class="boxplus-buttons" />');if(e){b('<div class="boxplus-download" />').appendTo(l).click(function(){window.location.href=e;return false})}if(p&&k){k(b('<div class="boxplus-metadata" />').appendTo(l),g)}o.append(l)}d.parent().hover(function(){var q=g.offset();d.css({width:g.outerWidth(),height:g.outerHeight()}).offset(q).offset(q);o.removeClass("boxplus-hidden")},function(){o.addClass("boxplus-hidden")});return this};b.fn.boxplusCaptionGallery=function(c){b("li img:first-child",this).each(function(){b(this).boxplusCaption(c)});return this}})(__jQuery__);